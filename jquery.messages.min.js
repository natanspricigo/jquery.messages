if(void 0==$.fn)throw new Error("Adicionar o Jquery antes!!");!function(e){e.fn.messages=function(t){if("string"==typeof t)switch(t){case"destroy":return this.each(function(){e(this).empty()})}var i={message:"",type:null,category:null,identification:(new Date).getTime(),template:"<div class='alert alert-block {type}' style = 'margin-bottom: 5px;padding: 10px;'><button type='button' class='close' data-dismiss='alert'><i class='ace-icon fa fa-times'></i></button>{message}</div>",classContainer:"col-xs-12",isSingleVector:!1,autoDiscoverType:!1,secondsVisible:0,timeVisible:0,group:!0,extraFunction:function(){}};t=e.extend(i,t);var n={classOnType:function(e){return e=void 0==e?t.type:e,["info","informacao"].indexOf(e)>-1?"alert-info":["error","erro"].indexOf(e)>-1?"alert-danger":["success","sucesso"].indexOf(e)>-1?"alert-success":["alert","alerta","warning"].indexOf(e)>-1?"alert-warning":"alert-info"},crateObject:function(e,t){return{message:e,type:t}},solveJson:function(){function i(e){return a.filter(function(t){return t.category&&t.category==e})}function s(e,t){var n=i(t);n.forEach(function(t){t.message=t.message+"<br>"+e})}if("object"!=typeof t.message)return[];var a=[];try{e.each(t.message,function(e,o){var r=1==t.autoDiscoverType&&"undefined"!=typeof o?o.category:t.type;switch(("undefined"==typeof r||"undefined"!=typeof r&&0==r.length)&&(r="info"),typeof o){case"string":o=n.crateObject(o,r);break;case"undefined":o=n.crateObject("&nbsp;",r);break;case"object":0==Object.keys(o).length&&(o=n.crateObject("&nbsp;",r))}var c=i(r);c.length>0&&1==t.group?s(o.message,r):a.push(o)})}catch(o){throw new Error(o)}return a},removeToTime:function(){void 0!=t.secondsVisible&&isNumber(t.secondsVisible)&&(t.timeVisible=1e3*Number(t.secondsVisible)),t.timeVisible&&t.timeVisible>0&&(setTimeout(function(){e("#"+t.identification).fadeOut(1e3),e("#"+t.identification).trigger("rm")},t.timeVisible),e("#"+t.identification).on("rm",function(i){i.stopPropagation(),i.preventDefault(),setTimeout(function(){e("#"+t.identification).detach()},1e3)}))}};return this.each(function(){var i=e(this),s=[];if(null==t.type&&(t.autoDiscoverType=!0),"undefined"!=typeof t.message.list&&(t.message=t.message.list),"string"==typeof t.message&&(t.message=[t.message]),s=t.message&&e.isArray(t.message)?n.solveJson():t.message,void 0!=i&&s.forEach){i.empty();var a="";s.forEach(function(e){a=t.template.replace(new RegExp("{type}","gi"),n.classOnType(e.category)),a=a.replace(new RegExp("{message}","gi"),e.message);var s="<div id='"+t.identification+"' class='"+t.classContainer+"' >"+a+"</div>";i.append(s)}),i.removeAttr("style"),n.removeToTime(),t.extraFunction()}})}}(jQuery);